# –ê–Ω–∞–ª–∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏—é—Ç–∞ "–î–æ–º –õ–∞–ø"

## üìñ –ö–∞–∫ –º—ã —ç—Ç–æ —Å–¥–µ–ª–∞–ª–∏ –∏ –∑–∞—á–µ–º?

–ú—ã –≤—ã–±—Ä–∞–ª–∏ –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥: –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏) —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ SQLite –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, –∞ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ (–∂–∏–≤–æ—Ç–Ω—ã–µ, –Ω–æ–≤–æ—Å—Ç–∏) - –≤ JSON —Ñ–∞–π–ª–∞—Ö.

**–ü–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ —Ç–∞–∫?**
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö** - –Ω—É–∂–Ω–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ—Å—Ç—å, —Å–≤—è–∑–∏ –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏, —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö.
- **JSON –¥–ª—è —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤** - —Å—Ç–∞—Ç–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, —É–¥–æ–±–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –±–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–π, –±—ã—Å—Ç—Ä–æ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ.
- **SQLite** - –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞, –ø—Ä–æ—Å—Ç–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ, –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –Ω–µ–±–æ–ª—å—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤.

## üìä –ù–∞ —á—ë–º –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö?

–í–∞—à–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ **SQLite** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **SQLAlchemy** (ORM –¥–ª—è Python).

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫:
- **SQLite** - –ª–µ–≥–∫–æ–≤–µ—Å–Ω–∞—è —Ñ–∞–π–ª–æ–≤–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (—Ñ–∞–π–ª `backend/shelter.db`).
- **SQLAlchemy 2.0.23** - ORM (Object-Relational Mapping) –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î.
- **Flask** - –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è API.
- **Flask-CORS** - –¥–ª—è –∫—Ä–æ—Å—Å-–¥–æ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.

### –ü–æ—á–µ–º—É SQLite?
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –ë–î.
- ‚úÖ –ü—Ä–æ—Å—Ç–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ (–æ–¥–∏–Ω —Ñ–∞–π–ª).
- ‚úÖ –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –Ω–µ–±–æ–ª—å—à–∏—Ö –∏ —Å—Ä–µ–¥–Ω–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤.
- ‚úÖ –•–æ—Ä–æ—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –≤–∞—à–µ–≥–æ —Å–ª—É—á–∞—è.

---

## üóÑÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–¥–µ—Ä–∂–∏—Ç **4 –æ—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã**:

### 1. **users** (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
- `id` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä.
- `phone` - —Ç–µ–ª–µ—Ñ–æ–Ω (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π, —Å –∏–Ω–¥–µ–∫—Å–æ–º).
- `email` - email.
- `full_name` - –ø–æ–ª–Ω–æ–µ –∏–º—è.
- `created_at` - –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è.

**–°–≤—è–∑–∏:**
- –û–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí –º–Ω–æ–≥–æ —Å–ø–æ—Å–æ–±–æ–≤ –æ–ø–ª–∞—Ç—ã
- –û–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí –º–Ω–æ–≥–æ –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏–π
- –û–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí –º–Ω–æ–≥–æ –ø–æ–¥–ø–∏—Å–æ–∫

### 2. **payment_methods** (–°–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã)
- `id` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `user_id` - —Å–≤—è–∑—å —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- `provider` - –ø—Ä–æ–≤–∞–π–¥–µ—Ä (yoomoney, stripe –∏ —Ç.–¥.)
- `provider_payment_token` - —Ç–æ–∫–µ–Ω –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö —Å–ø–∏—Å–∞–Ω–∏–π
- `last4` - –ø–æ—Å–ª–µ–¥–Ω–∏–µ 4 —Ü–∏—Ñ—Ä—ã –∫–∞—Ä—Ç—ã
- `is_active` - –∞–∫—Ç–∏–≤–µ–Ω –ª–∏ —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã
- `created_at` - –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è

**–°–≤—è–∑–∏:**
- –û–¥–∏–Ω —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã ‚Üí –æ–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- –û–¥–∏–Ω —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã ‚Üí –º–Ω–æ–≥–æ –ø–æ–¥–ø–∏—Å–æ–∫

### 3. **donations** (–ü–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è)
- `id` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `user_id` - —Å–≤—è–∑—å —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º (–º–æ–∂–µ—Ç –±—ã—Ç—å NULL –¥–ª—è –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö)
- `public_name` - –ø—É–±–ª–∏—á–Ω–æ–µ –∏–º—è (–∏–ª–∏ "–ê–Ω–æ–Ω–∏–º–Ω–æ")
- `phone`, `email` - –∫–æ–Ω—Ç–∞–∫—Ç—ã
- `amount` - —Å—É–º–º–∞ –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è
- `purpose` - –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ (food, medical, maintenance, general)
- `is_recurring` - —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –ª–∏ –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏–µ
- `subscription_id` - —Å–≤—è–∑—å —Å –ø–æ–¥–ø–∏—Å–∫–æ–π (–µ—Å–ª–∏ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ)
- `provider` - –ø—Ä–æ–≤–∞–π–¥–µ—Ä –ø–ª–∞—Ç–µ–∂–∞ (yoomoney)
- `provider_payment_id` - ID –ø–ª–∞—Ç–µ–∂–∞ –≤ —Å–∏—Å—Ç–µ–º–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
- `status` - —Å—Ç–∞—Ç—É—Å (pending, succeeded, canceled, failed)
- `paid_at` - –¥–∞—Ç–∞ –æ–ø–ª–∞—Ç—ã
- `created_at` - –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è

**–°–≤—è–∑–∏:**
- –û–¥–Ω–æ –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏–µ ‚Üí –æ–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–∏–ª–∏ NULL)
- –û–¥–Ω–æ –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏–µ ‚Üí –æ–¥–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∞ (–∏–ª–∏ NULL)

### 4. **subscriptions** (–ü–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è)
- `id` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `user_id` - —Å–≤—è–∑—å —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- `payment_method_id` - —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã
- `amount` - —Å—É–º–º–∞
- `purpose` - –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ
- `frequency` - —á–∞—Å—Ç–æ—Ç–∞ (weekly, monthly, quarterly)
- `status` - —Å—Ç–∞—Ç—É—Å (active, canceled, paused)
- `next_charge_at` - –¥–∞—Ç–∞ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–ø–∏—Å–∞–Ω–∏—è
- `last_charge_at` - –¥–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–ø–∏—Å–∞–Ω–∏—è
- `created_at` - –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
- `canceled_at` - –¥–∞—Ç–∞ –æ—Ç–º–µ–Ω—ã

**–°–≤—è–∑–∏:**
- –û–¥–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∞ ‚Üí –æ–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- –û–¥–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∞ ‚Üí –æ–¥–∏–Ω —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã
- –û–¥–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∞ ‚Üí –º–Ω–æ–≥–æ –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏–π

---

## üìÅ –ì–∏–±—Ä–∏–¥–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö

–í–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥**:

### –î–∞–Ω–Ω—ã–µ –≤ –ë–î (SQLite):
- ‚úÖ **–ü–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è (donations)** - –æ—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞
- ‚úÖ **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (users)** - —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ **–ü–æ–¥–ø–∏—Å–∫–∏ (subscriptions)** - —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è
- ‚úÖ **–°–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã (payment_methods)** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã

### –î–∞–Ω–Ω—ã–µ –≤ JSON —Ñ–∞–π–ª–∞—Ö:
- üìÑ **–ñ–∏–≤–æ—Ç–Ω—ã–µ** (`data/animals.json`) - –∫–∞—Ç–∞–ª–æ–≥ –∂–∏–≤–æ—Ç–Ω—ã—Ö
- üìÑ **–ù–æ–≤–æ—Å—Ç–∏** (`data/news.json`) - –Ω–æ–≤–æ—Å—Ç–∏ –ø—Ä–∏—é—Ç–∞
- üìÑ **–°–æ–±—ã—Ç–∏—è** (`data/events.json`) - –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è
- üìÑ **–í–æ–ª–æ–Ω—Ç–µ—Ä—ã** (`data/volunteers.json`) - –∫–æ–º–∞–Ω–¥–∞
- üìÑ **–ü–æ–º–µ—â–µ–Ω–∏—è** (`data/rooms.json`) - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–º–µ—â–µ–Ω–∏—è—Ö
- üìÑ **–ó–∞—è–≤–∫–∏** (`data/applications.json`) - –∑–∞—è–≤–∫–∏ –Ω–∞ —É—Å—ã–Ω–æ–≤–ª–µ–Ω–∏–µ
- üìÑ **–ü–µ—Ä–µ–≤–æ–¥—ã** (`data/translations.json`) - –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è

### –ü–æ—á–µ–º—É —Ç–∞–∫?
- **–ü–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è** - –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –Ω—É–∂–Ω–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ—Å—Ç—å, —Å–≤—è–∑–∏ –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏. –ï—Å–ª–∏ –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–æ, –æ–Ω–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ –Ω–∞–¥–µ–∂–Ω–æ.
- **–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏** (–∂–∏–≤–æ—Ç–Ω—ã–µ, –Ω–æ–≤–æ—Å—Ç–∏) - —Å—Ç–∞—Ç–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, —É–¥–æ–±–Ω–µ–µ –≤ JSON –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞. –ò—Ö –º–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é, –Ω–µ –Ω—É–∂–Ω—ã –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î.
- **–ì–∏–±–∫–æ—Å—Ç—å** - –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å JSON —Ñ–∞–π–ª—ã –±–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–π –ë–î. –≠—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º.

**–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ?** –§—Ä–æ–Ω—Ç–µ–Ω–¥ —Å–Ω–∞—á–∞–ª–∞ –ø—ã—Ç–∞–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è –∏–∑ API (–∏–∑ –ë–î), –∞ –µ—Å–ª–∏ API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç JSON –∫–∞–∫ fallback. –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ –≤—Å–µ–≥–¥–∞ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ JSON.

---

## ‚ö†Ô∏è –§–µ–π–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

### –ù–∞–π–¥–µ–Ω—ã —Ñ–µ–π–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ JSON —Ñ–∞–π–ª–∞—Ö:

#### 1. **donations.json** (7 –∑–∞–ø–∏—Å–µ–π):
- –ê–Ω–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞ (`anna@example.com`) - 5 –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏–π
- –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤ (`ivan@example.com`) - 1 –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏–µ
- –ú–∞—Ä–∏—è –°–∏–¥–æ—Ä–æ–≤–∞ (`maria@example.com`) - 1 –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏–µ

#### 2. **applications.json** (5 –∑–∞–ø–∏—Å–µ–π):
- –ê–Ω–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞, –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤, –ú–∞—Ä–∏—è –°–∏–¥–æ—Ä–æ–≤–∞, –ü–µ—Ç—Ä –°–º–∏—Ä–Ω–æ–≤
- –í—Å–µ —Å email `@example.com`

#### 3. **volunteers.json** (8 –∑–∞–ø–∏—Å–µ–π):
- –í—Å–µ –≤–æ–ª–æ–Ω—Ç–µ—Ä—ã —Å email `@example.com`

### –ß—Ç–æ –¥–µ–ª–∞—Ç—å?
1. **–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏** - –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å
2. **–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞** - –Ω—É–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å
3. **–ú–∏–≥—Ä–∞—Ü–∏—è** - –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –∏–∑ `donations.json` —É–∂–µ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ –ë–î, –æ–Ω–∏ —Ç–æ–∂–µ –±—É–¥—É—Ç –≤ –ë–î

---

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

### –°–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏: `backend/migrate_data.py`

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ `data/donations.json` –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö SQLite.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. –ß–∏—Ç–∞–µ—Ç `data/donations.json`
2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è:
   - –°–æ–∑–¥–∞–µ—Ç –∏–ª–∏ –Ω–∞—Ö–æ–¥–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É
   - –°–æ–∑–¥–∞–µ—Ç –∑–∞–ø–∏—Å—å –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è –≤ –ë–î
   - –ü—Ä–æ–ø—É—Å–∫–∞–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã (–ø–æ ID)

**–ó–∞–ø—É—Å–∫:**
```bash
cd backend
python migrate_data.py
```

**–í–∞–∂–Ω–æ:** –°–∫—Ä–∏–ø—Ç –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–π - –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑, –¥—É–±–ª–∏–∫–∞—Ç—ã –Ω–µ —Å–æ–∑–¥–∞–¥—É—Ç—Å—è.

---

## üîå API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (Flask API –Ω–∞ –ø–æ—Ä—Ç—É 5000):

1. **GET `/api/admin/donations`** - —Å–ø–∏—Å–æ–∫ –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏–π –¥–ª—è –∞–¥–º–∏–Ω–∫–∏
2. **GET `/api/admin/donations/monthly-stats`** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –º–µ—Å—è—Ü–∞–º
3. **POST `/api/donations`** - —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏–µ
4. **POST `/api/yoomoney/webhook`** - webhook –æ—Ç YooMoney
5. **GET `/api/subscriptions`** - —Å–ø–∏—Å–æ–∫ –ø–æ–¥–ø–∏—Å–æ–∫
6. **POST `/api/subscriptions/<id>/cancel`** - –æ—Ç–º–µ–Ω–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É
7. **POST `/api/migrate/json-to-db`** - –º–∏–≥—Ä–∞—Ü–∏—è –∏–∑ JSON –≤ –ë–î

---

## üéØ –ö–∞–∫ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ?

### –ü–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è:
1. **–°–Ω–∞—á–∞–ª–∞** –ø—ã—Ç–∞–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ API (`http://localhost:5000/api/admin/donations`)
2. **–ï—Å–ª–∏ API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω** - fallback –Ω–∞ JSON —Ñ–∞–π–ª (`data/donations.json`)
3. **–¢–∞–∫–∂–µ** —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ `localStorage` –¥–ª—è –æ—Ñ–ª–∞–π–Ω-—Ä–∞–±–æ—Ç—ã

### –û—Å—Ç–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–∂–∏–≤–æ—Ç–Ω—ã–µ, –Ω–æ–≤–æ—Å—Ç–∏ –∏ —Ç.–¥.):
- –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –∏–∑ JSON —Ñ–∞–π–ª–æ–≤
- –°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `localStorage` –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

### –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ë–î:

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏:**
   ```bash
   python backend/check_db.py
   ```

2. **–ò–ª–∏ –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ Python:**
   ```python
   from backend.database import SessionLocal, Donation, User
   db = SessionLocal()
   print(f"–ü–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏–π: {db.query(Donation).count()}")
   print(f"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: {db.query(User).count()}")
   db.close()
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ API:**
   - –ó–∞–ø—É—Å—Ç–∏—Ç–µ Flask —Å–µ—Ä–≤–µ—Ä: `python backend/app.py`
   - –û—Ç–∫—Ä–æ–π—Ç–µ: `http://localhost:5000/api/admin/donations`

---

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:

1. **–£–¥–∞–ª–∏—Ç—å —Ñ–µ–π–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ:**
   - –û—á–∏—Å—Ç–∏—Ç—å `data/donations.json` –æ—Ç —Ç–µ—Å—Ç–æ–≤—ã—Ö –∑–∞–ø–∏—Å–µ–π
   - –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –∑–∞–Ω–æ–≤–æ (–∏–ª–∏ —É–¥–∞–ª–∏—Ç—å –ë–î –∏ —Å–æ–∑–¥–∞—Ç—å –∑–∞–Ω–æ–≤–æ)

2. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
   - `YOOMONEY_SHOP_ID`
   - `YOOMONEY_SECRET_KEY`
   - `YOOMONEY_WEBHOOK_SECRET`
   - `BASE_URL`

3. **–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –†–µ–≥—É–ª—è—Ä–Ω–æ –¥–µ–ª–∞—Ç—å –±—ç–∫–∞–ø —Ñ–∞–π–ª–∞ `backend/shelter.db`

4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
   - –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è–º–∏
   - –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –ø–ª–∞—Ç–µ–∂–µ–π

---

## üìù –ò—Ç–æ–≥

‚úÖ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ**
- SQLite + SQLAlchemy –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü –ª–æ–≥–∏—á–Ω–∞ –∏ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã

‚ö†Ô∏è **–ï—Å—Ç—å —Ñ–µ–π–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ**
- –í JSON —Ñ–∞–π–ª–∞—Ö –æ—Å—Ç–∞–ª–∏—Å—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ —Å `@example.com`
- –ï—Å–ª–∏ –º–∏–≥—Ä–∞—Ü–∏—è —É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞, –æ–Ω–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –∏ –≤ –ë–î

üîÑ **–ì–∏–±—Ä–∏–¥–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞**
- –ü–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è –≤ –ë–î (–ø—Ä–∞–≤–∏–ª—å–Ω–æ)
- –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ –≤ JSON (—É–¥–æ–±–Ω–æ –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞)

---

*–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω: 2024-12-20*

